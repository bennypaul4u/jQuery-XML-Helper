<!DOCTYPE html>
<html>
<head>
    <title>jQuery XML Parsing/Manipulation Demo</title>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.5.0/jquery.min.js" type="text/javascript"></script>
    <script src="jquery.xml.js" type="text/javascript"></script>
    
    <script type="text/javascript">       
        
        var xml =
            '<Browsers>\n' +
                '\t<CoolBrowsers>\n' +
                    '\t\t<Browser name="Opera" />\n' +
                    '\t\t<Browser name="Chrome" />\n' +
                    '\t\t<Browser name="Firefox" />\n' +
                '\t</CoolBrowsers>\n' +
                '\t<UncoolBrowsers>\n' +
                    '\t\t<Browser name="IE6" />\n' +
                '\t</UncoolBrowsers>\n' +
            '</Browsers>';

        $(function () {
            "use strict";
            
                // use .xml(string) to load XML for jQuery
            var $xml = $.xml(xml),
                // Use .xml(string) also to create elements for jQuery
                uncoolBrowser = $.xml('<Browser name="IE7" />');
            
            // Source
            $("#xml").text(xml);
            
            // Appending works!
            $xml.find("uncoolbrowsers").append(uncoolBrowser);
            // Appending a string does not work directly, 
            // because IE won't be able to find it later.
            // You need to wrap it in $.xml.
            $xml.find("uncoolbrowsers").append($.xml("<browser name='IE8'/><browser name='IE5.5'/><browser name='Lynx'/>"));
            
            // So does finding, etc.
            $xml.find("browser[name^='IE']").attr("miracle", true);
            $xml.find("browser[name='Lynx']").appendTo($xml.find("coolbrowsers"));
            
            // Use .outerXml() to get the outer XML
            $("#result").text($xml.outerXml());            
        });
    </script>
</head>
<body>
    <h1>Source</h1>
    <pre id="xml"></pre>
    
    <h1>Transformed</h1>
    <pre id="result"></pre>
</body>
</html>
